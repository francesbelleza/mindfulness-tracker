{% extends "base.html" %}
{% block title %}Daily Check-In{% endblock %}

{% block content %}
<div class="check-in-container">
  <div class="text-center mb-5">
    <h1 class="display-5 mb-3">How are you feeling today?</h1>
    <p class="subtitle">Take a moment to check in with yourself</p>
  </div>

  <form method="POST" action="{{ url_for('check_in') }}" class="mx-auto" style="max-width: 600px;">

    <!-- Time of Day Selection -->
    <div class="mb-5">
      <label class="form-label d-block text-center mb-4">
        When are you checking in?
      </label>

      <div class="time-grid">
        <!-- Morning -->
        <input type="radio" class="btn-check" name="time_of_day" id="time-morning" value="Morning" required>
        <label class="time-card" for="time-morning">
          <div class="time-label">Morning</div>
        </label>

        <!-- Night -->
        <input type="radio" class="btn-check" name="time_of_day" id="time-night" value="Night" required>
        <label class="time-card" for="time-night">
          <div class="time-label">Night</div>
        </label>
      </div>
    </div>

    <!-- Mood Selection -->
    <div class="mb-5">
      <label class="form-label d-block text-center mb-4">
        Select your mood
      </label>

      <div class="mood-grid">
        <!-- Happy -->
        <input type="radio" class="btn-check" name="mood" id="mood-happy" value="Happy" required>
        <label class="mood-card" for="mood-happy">
          <div class="mood-indicator mood-happy"></div>
          <div class="mood-label">Happy</div>
        </label>

        <!-- Calm -->
        <input type="radio" class="btn-check" name="mood" id="mood-calm" value="Calm" required>
        <label class="mood-card" for="mood-calm">
          <div class="mood-indicator mood-calm"></div>
          <div class="mood-label">Calm</div>
        </label>

        <!-- Anxious -->
        <input type="radio" class="btn-check" name="mood" id="mood-anxious" value="Anxious" required>
        <label class="mood-card" for="mood-anxious">
          <div class="mood-indicator mood-anxious"></div>
          <div class="mood-label">Anxious</div>
        </label>

        <!-- Sad -->
        <input type="radio" class="btn-check" name="mood" id="mood-sad" value="Sad" required>
        <label class="mood-card" for="mood-sad">
          <div class="mood-indicator mood-sad"></div>
          <div class="mood-label">Sad</div>
        </label>
      </div>
    </div>

    <!-- Body Feeling (Required) -->
    <div class="mb-4">
      <label class="form-label" style="font-weight: 500;">
        How does your body feel?
      </label>
      <textarea
        name="body_feeling"
        class="form-control"
        rows="3"
        placeholder="e.g., tense shoulders, energized, tired..."
        style="resize: none;"
        required></textarea>
    </div>

    <!-- Submit Button -->
    <div class="d-grid">
      <button type="submit" class="btn btn-primary btn-lg" style="border-radius: 12px; padding: 14px;">
        Complete Check-In
      </button>
    </div>
  </form>
</div>

<style>
.check-in-container {
  padding: var(--space-2xl) var(--space-lg);
  max-width: 800px;
  margin: 0 auto;
}

.check-in-container h1 {
  color: var(--text-light);
  font-weight: 200;
  letter-spacing: 1px;
}

.subtitle {
  color: var(--text-medium);
  font-size: 1.1rem;
  font-weight: 300;
  letter-spacing: 0.5px;
}

.form-label {
  font-size: 1.1rem;
  font-weight: 300;
  color: var(--text-medium);
  letter-spacing: 0.5px;
}

/* Time of Day Grid - Dark glassmorphic cards */
.time-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-lg);
  max-width: 450px;
  margin: 0 auto;
}

.time-card {
  background: rgba(38, 60, 65, 0.3);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(232, 168, 124, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-xl);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-smooth);
  box-shadow: var(--shadow-soft);
}

.time-card:hover {
  transform: translateY(-3px);
  border-color: var(--sunset-peach);
  box-shadow: var(--shadow-card), var(--glow-subtle);
}

.btn-check:checked + .time-card {
  background: linear-gradient(135deg, var(--sunset-peach) 0%, var(--sunset-coral) 100%);
  border-color: var(--sunset-peach);
  box-shadow: var(--glow-medium);
}

.btn-check:checked + .time-card .time-label {
  color: var(--bg-primary);
}

.time-label {
  font-size: 1.1rem;
  font-weight: 300;
  color: var(--text-light);
  letter-spacing: 1px;
  transition: var(--transition-smooth);
}

/* Mood Grid - Dark cards with colored indicators */
.mood-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-lg);
  max-width: 700px;
  margin: 0 auto;
}

.mood-card {
  background: rgba(38, 60, 65, 0.3);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(232, 168, 124, 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-lg);
  text-align: center;
  cursor: pointer;
  transition: var(--transition-smooth);
  box-shadow: var(--shadow-soft);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-sm);
}

.mood-card:hover {
  transform: translateY(-3px);
  border-color: var(--sunset-peach);
  box-shadow: var(--shadow-card), var(--glow-subtle);
}

.btn-check:checked + .mood-card {
  background: linear-gradient(135deg, var(--sunset-peach) 0%, var(--sunset-coral) 100%);
  border-color: var(--sunset-peach);
  box-shadow: var(--glow-medium);
}

.btn-check:checked + .mood-card .mood-label {
  color: var(--bg-primary);
}

.btn-check:checked + .mood-card .mood-indicator {
  background: white;
  border-color: white;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

/* Mood Indicators - Circular colored dots with soft glow */
.mood-indicator {
  width: 50px;
  height: 50px;
  border-radius: var(--radius-full);
  border: 3px solid;
  transition: var(--transition-smooth);
  box-shadow: 0 0 15px currentColor;
}

.mood-happy {
  background: #f4d03f;
  border-color: #f4d03f;
}

.mood-calm {
  background: #85c1e2;
  border-color: #85c1e2;
}

.mood-anxious {
  background: #e17055;
  border-color: #e17055;
}

.mood-sad {
  background: #74b9ff;
  border-color: #74b9ff;
}

.mood-label {
  font-size: 1rem;
  font-weight: 300;
  color: var(--text-light);
  letter-spacing: 0.5px;
  transition: var(--transition-smooth);
}

.form-control {
  background: rgba(38, 60, 65, 0.3);
  border: 1px solid rgba(232, 168, 124, 0.2);
  border-radius: var(--radius-md);
  padding: 14px 18px;
  color: var(--text-light);
  font-weight: 300;
  transition: var(--transition-smooth);
}

.form-control:focus {
  background: rgba(38, 60, 65, 0.5);
  border-color: var(--sunset-peach);
  box-shadow: 0 0 0 3px rgba(232, 168, 124, 0.1);
  outline: none;
}

.form-control::placeholder {
  color: var(--text-subtle);
}

.btn-primary {
  padding: 16px 48px;
  font-size: 1rem;
}

@media (max-width: 576px) {
  .mood-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
  }

  .check-in-container {
    padding: var(--space-xl) var(--space-md);
  }

  .mood-indicator {
    width: 40px;
    height: 40px;
  }
}
</style>
{% endblock %}
